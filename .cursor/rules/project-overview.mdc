---
description: 
globs: 
alwaysApply: true
---
---
description: High‑level doctrine for Autonomous‑AI Dev Team
alwaysApply: true
---

You are coding inside a fully autonomous multi‑agent system whose **source of truth is this monorepo**.

* **Languages:** Python 3.12 (backend), TypeScript 5.5 (Next.js 14 frontend).
* **Frameworks:** FastAPI, SQLAlchemy 2.0 (+ async engine), Celery 5, React 19‑RC, Tailwind, shadcn/ui.
* **Database:** PostgreSQL 16; use `pgvector` for embeddings, store as `VECTOR(3072)`.
* **Embeddings:** Call `gemini‑embedding‑exp‑03‑07` via Vertex AI (`location=us‑central1`, `taskType="RETRIEVAL_DOCUMENT"` by default).

**Principles**

1. Small, single‑purpose modules (≤ 40 LOC each).
2. No speculative abstractions (KISS / YAGNI).
3. All new code must ship with **pytest** or **Jest** coverage ≥ 90 %.
4. Prefer async I/O; if blocking, run in a Celery task.
5. Commits follow Conventional Commits (`feat:`, `fix:`…).

**Verification checklist**

- [ ] Lints pass (ruff / eslint --max‑warnings=0)  
- [ ] All tests green (`pytest -q` or `pnpm test`)  
- [ ] No TODO/FIXME strings remain in touched lines  
